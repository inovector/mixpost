import{r as x,H as y,a_ as k,c as m,o,n as w,j as $,a as t,b as u,u as b,Z as h,w as s,F as f,e as V,g as v,d as i,t as g,cl as C,f as p,_ as L,N}from"./app-DmGdsn2l.js";import{_ as T}from"./PageHeader-CBfuaYA_.js";import{_ as B}from"./Panel-BFAKcbMt.js";import{_ as D,T as I}from"./Tab-7pi3FIwZ.js";import{_ as S}from"./Alert-CiPY5W6k.js";import{_ as A}from"./DangerButton-DEJcNrHi.js";import{_ as F}from"./NoResult-C9KF7zEB.js";const j=["value"],q={__name:"Textarea",props:["modelValue","error"],emits:["update:modelValue"],setup(l){const r=x(null);return y(()=>{r.value.hasAttribute("autofocus")&&k(()=>{r.value.focus()})}),(n,e)=>(o(),m("textarea",{value:l.modelValue,onInput:e[0]||(e[0]=_=>n.$emit("update:modelValue",_.target.value)),ref_key:"textarea",ref:r,class:w([{"border-stone-600":!l.error,"border-red-600":l.error},"w-full rounded-md focus:border-indigo-200 focus:ring-3 focus:ring-indigo-200/50 outline-hidden transition-colors ease-in-out duration-200"])},null,42,j))}},z={class:"w-full mx-auto row-py"},E={class:"w-full row-px"},H={class:"mt-lg row-px w-full"},M={class:"mt-md"},Z=["href"],W={__name:"Logs",props:{logs:{required:!0,type:Array}},setup(l){const r=l,n=x(null);y(()=>{r.logs.length&&(n.value=r.logs[0].name)});const e=$(()=>{const d=r.logs.find(a=>a.name===n.value);return d||!1}),_=()=>{N.delete(route("mixpost.system.logs.clear"),{data:{filename:e.value.name}})};return(d,a)=>(o(),m(f,null,[t(b(h),{title:"System Logs"}),u("div",z,[t(T,{title:"System Logs"}),u("div",E,[t(I,null,{default:s(()=>[(o(!0),m(f,null,V(l.logs,c=>(o(),v(D,{key:c.name,onClick:G=>n.value=c.name,active:n.value===c.name},{icon:s(()=>[t(C)]),default:s(()=>[i(" "+g(c.name),1)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),u("div",H,[t(B,{class:"mt-lg"},{default:s(()=>[l.logs.length?(o(),m(f,{key:0},[e.value?(o(),m(f,{key:0},[e.value.error?(o(),v(S,{key:0,closeable:!1,variant:"warning",class:"mb-md"},{default:s(()=>[i(g(e.value.error),1)]),_:1})):p("",!0),t(q,{value:e.value.contents,class:"h-96",readonly:""},null,8,["value"])],64)):p("",!0),u("div",M,[u("a",{href:d.route("mixpost.system.logs.download",{filename:e.value.name}),target:"_blank"},[t(L,{class:"mr-xs rtl:mr-0 rtl:ml-xs"},{default:s(()=>a[0]||(a[0]=[i("Download")])),_:1,__:[0]})],8,Z),t(A,{onClick:_},{default:s(()=>a[1]||(a[1]=[i("Clean up")])),_:1,__:[1]})])],64)):(o(),v(F,{key:1},{default:s(()=>a[2]||(a[2]=[i(" There are no logs. ")])),_:1,__:[2]}))]),_:1})])])],64))}};export{W as default};
